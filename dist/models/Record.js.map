{"version":3,"sources":["../../models/Record"],"names":["mongoose","require","RecordSchema","Schema","userId","type","String","required","isbn","state","date","Date","default","now","deadline","returnDate","lastModified","delayTimes","Number","Record","model","e","name","module","exports"],"mappings":";;AAAA;AACA,IAAMA,WAAWC,QAAQ,UAAR,CAAjB;;AAEA,IAAMC,eAAeF,SAASG,MAAT,CAAgB;AACnCC,UAAQ,EAAEC,MAAMC,MAAR,EAAgBC,UAAU,IAA1B,EAD2B;AAEnCC,QAAM,EAAEH,MAAMC,MAAR,EAAgBC,UAAU,IAA1B,EAF6B;AAGnCE,SAAO,EAAEJ,MAAMC,MAAR,EAAgBC,UAAU,IAA1B,EAH4B;AAInCG,QAAM,EAAEL,MAAMM,IAAR,EAAcC,SAASD,KAAKE,GAAL,EAAvB,EAJ6B;AAKnCC,YAAU,EAAET,MAAMM,IAAR,EAAcJ,UAAU,IAAxB,EALyB;AAMnCQ,cAAY,EAAEV,MAAMM,IAAR,EANuB,EAMP;AAC5BK,gBAAc,EAAEX,MAAMM,IAAR,EAAcC,SAASD,KAAKE,GAAL,EAAvB,EAPqB;AAQnCI,cAAY,EAAEZ,MAAMa,MAAR,EAAgBN,SAAS,CAAzB;AARuB,CAAhB,CAArB;AAUA,IAAIO,SAAS,IAAb;AACA,IAAI;AACFA,WAASnB,SAASoB,KAAT,CAAe,QAAf,EAAyBlB,YAAzB,CAAT;AACD,CAFD,CAEE,OAAOmB,CAAP,EAAU;AACV,MAAIA,EAAEC,IAAF,KAAW,qBAAf,EAAsC;AACpCH,aAASnB,SAASoB,KAAT,CAAe,QAAf,CAAT;AACD;AACF;AACDG,OAAOC,OAAP,GAAiBL,MAAjB","file":"Record.js","sourcesContent":["// import { MAX_BORROW_DURATION, MAX_DELAY_TIMES, MAX_DELAY_DAYS } from '../settings'\nconst mongoose = require('mongoose')\n\nconst RecordSchema = mongoose.Schema({\n  userId: { type: String, required: true },\n  isbn: { type: String, required: true },\n  state: { type: String, required: true },\n  date: { type: Date, default: Date.now() },\n  deadline: { type: Date, required: true },\n  returnDate: { type: Date }, //实际还书日期\n  lastModified: { type: Date, default: Date.now() },\n  delayTimes: { type: Number, default: 0 }\n})\nlet Record = null\ntry {\n  Record = mongoose.model('Record', RecordSchema)\n} catch (e) {\n  if (e.name === 'OverwriteModelError') {\n    Record = mongoose.model('Record')\n  }\n}\nmodule.exports = Record\n"]}