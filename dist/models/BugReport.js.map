{"version":3,"sources":["../../models/BugReport.js"],"names":["mongoose","require","BugReportSchema","Schema","keyword","type","String","required","description","coverId","bookId","status","reporter","createAt","Date","default","now","BugReport","model","e","name","module","exports"],"mappings":";;AAAA,IAAMA,WAAWC,QAAQ,UAAR,CAAjB;;AAEA,IAAMC,kBAAkBF,SAASG,MAAT,CAAgB;AACtCC,WAAS,EAACC,MAAMC,MAAP,EAAeC,UAAU,IAAzB,EAD6B,EACG;AACzCC,eAAaF,MAFyB,EAEhB;AACtBG,WAASH,MAH6B,EAGrB;AACjBI,UAAQ,EAACL,MAAMC,MAAP,EAAeC,UAAU,IAAzB,EAJ8B,EAIE;AACxCI,UAAQ,EAACN,MAAMC,MAAP,EAAeC,UAAU,IAAzB,EAL8B,EAKE;AACxCK,YAAUN,MAN4B,EAMpB;AAClBO,YAAU,EAACR,MAAMS,IAAP,EAAaC,SAASD,KAAKE,GAAL,EAAtB,EAAkCT,UAAU,IAA5C,CAAkD;AAAlD,GAP4B,EAAhB,CAAxB;AASA,IAAIU,YAAY,IAAhB;AACA,IAAI;AACFA,cAAYjB,SAASkB,KAAT,CAAe,WAAf,EAA4BhB,eAA5B,CAAZ;AACD,CAFD,CAEE,OAAOiB,CAAP,EAAU;AACV,MAAIA,EAAEC,IAAF,KAAW,qBAAf,EAAsC;AACpCH,gBAAYjB,SAASkB,KAAT,CAAe,WAAf,CAAZ;AACD;AACF;;AAEDG,OAAOC,OAAP,GAAiBL,SAAjB","file":"BugReport.js","sourcesContent":["const mongoose = require('mongoose')\n\nconst BugReportSchema = mongoose.Schema({\n  keyword: {type: String, required: true}, // 只能是Cover、Book、Custom之一\n  description: String,  // keyword为Custom时必须\n  coverId: String, // keyword为Cover时才必须, 外键\n  bookId: {type: String, required: true}, // 外键\n  status: {type: String, required: true}, // 只能是New、Read、Confirmed、Resolved、Rejected之一\n  reporter: String, // 报告BUG的人, 外键\n  createAt: {type: Date, default: Date.now(), required: true} //录入日期\n})\nlet BugReport = null\ntry {\n  BugReport = mongoose.model('BugReport', BugReportSchema)\n} catch (e) {\n  if (e.name === 'OverwriteModelError') {\n    BugReport = mongoose.model('BugReport')\n  }\n}\n\nmodule.exports = BugReport\n"]}